<div class="modern-quick-share" *ngIf="habit.isOwnedHabit && !habit.isPrivate">
  <button
    class="modern-share-btn"
    (click)="toggleShareMenu()"
    [class.active]="showShareMenu"
    title="Share this habit"
    [disabled]="isSharing"
  >
    <svg class="share-icon" viewBox="0 0 24 24" fill="none">
      <path
        d="M4 12V20C4 20.5523 4.44772 21 5 21H19C19.5523 21 20 20.5523 20 20V12"
        stroke="currentColor"
        stroke-width="2"
      />
      <path
        d="M16 6L12 2L8 6"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <path
        d="M12 2V15"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
      />
    </svg>
  </button>

  <div
    class="modern-share-menu"
    *ngIf="showShareMenu"
    (click)="$event.stopPropagation()"
  >
    <div class="share-header">
      <h5>Share your progress</h5>
    </div>

    <div class="share-options">
      <button
        class="modern-share-option completion"
        (click)="shareCompletion()"
        *ngIf="habit.isCompleted"
        [disabled]="isSharing"
      >
        <div class="option-icon">✅</div>
        <div class="option-content">
          <span class="option-title">Achievement</span>
          <span class="option-desc">Share your completion</span>
        </div>
      </button>

      <button
        class="modern-share-option streak"
        (click)="shareStreak()"
        *ngIf="habit.streak > 0"
        [disabled]="isSharing"
      >
        <div class="option-icon">🔥</div>
        <div class="option-content">
          <span class="option-title">Streak</span>
          <span class="option-desc"
            >{{ habit.streak }} {{ getStreakPeriod() }}</span
          >
        </div>
      </button>

      <button
        class="modern-share-option progress"
        (click)="shareProgress()"
        [disabled]="isSharing"
      >
        <div class="option-icon">📊</div>
        <div class="option-content">
          <span class="option-title">Progress</span>
          <span class="option-desc">Share your journey</span>
        </div>
      </button>

      <button
        class="modern-share-option milestone"
        (click)="shareMilestone()"
        *ngIf="isMilestone"
        [disabled]="isSharing"
      >
        <div class="option-icon">🏆</div>
        <div class="option-content">
          <span class="option-title">Milestone</span>
          <span class="option-desc">Special achievement!</span>
        </div>
      </button>
    </div>
  </div>
</div>
