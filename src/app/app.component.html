<div class="app-container">
  <!-- Content Container with padding for navbar -->
  <div class="content-container">
    <div class="header">
      <!-- Show user name if logged in -->
      <ng-container *ngIf="authService.getToken(); else guestHeader">
        <div class="user-info">
          <span class="user-name">{{
            authService.getCurrentUser()?.userName
          }}</span>
          <button class="logout-btn" (click)="logout()">Logout</button>
        </div>
      </ng-container>

      <!-- Show only if NOT logged in -->
      <ng-template #guestHeader>
        <div class="auth-links">
          <a routerLink="/login" class="auth-link">Login</a>
          <a routerLink="/register" class="auth-link">Register</a>
        </div>
      </ng-template>
    </div>

    <div class="loading-overlay" *ngIf="isLoading$ | async">
      <div class="spinner"></div>
    </div>
    <router-outlet></router-outlet>
  </div>

  <!-- Global Toast Notifications -->
  <app-toast></app-toast>

  <!-- Navigation Bar (only shown when logged in) -->
  <app-navbar *ngIf="authService.getToken()"></app-navbar>
</div>
